aleesa-telegram
-----------------------------------------------------------------------------------------------------------------------
Сервис для aleesa-bot, работающий с мессенджером Telegram.

С остальными сервисами aleesa-bot работает по протоколу Redis pub-sub.


Механика работы
-----------------------------------------------------------------------------------------------------------------------
Сервис подписан на pub-sub redis-канал telegram. В этот канал пишут остальные сервисы aleesa-bot-а ответ на запросы
этого сервиса.

Формат протокола общения по redis pub-sub - см README от aleesa-misc.


Как это запустить?
-----------------------------------------------------------------------------------------------------------------------
Понадобится perl, cpanm и local::lib, а также несколько разных devel-пакетов для разных библиотек. Как правило, это
находится методом тыка, но точно понадобятся zlib-devel, openssl-devel, hiredis-devel. Кроме того, понадобятся
development tools - gcc, gcc-g++, perl-devel, make, cmake и так далее.

Приложение тестировалось на alpine linux x86_64 3.12, со встроенным perl-5.32.1

В каталоге с приложением под целевым пользователем запускаем bash bootstrap.sh Ждём с надеждой, что оно не обломится в
пути.

Если всё хорошо, то после создания data/config.json из data/config_sample.json и можно запускать приложение. Оно
запустится как unix daemon.

В каталоге contrib находится скрипт для alpine linux, системы инициализации openrc. Этот скрипт достаточно положить В
/etc/init.d/aleesa-telegram сконфигурить сервис по инструкции выше и после этого сервис запускается командой:
service aleesa-telegram start

в автозагрузку его можно прописать через команду:
rc-update add aleesa-telegram default
